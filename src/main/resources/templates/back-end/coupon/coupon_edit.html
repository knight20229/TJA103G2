<!DOCTYPE html>
<html lang="zh-Hant" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>編輯優惠券</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" />

    <!-- Font Awesome Free 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />

	<link rel="stylesheet" th:href="@{/css/back-end-index.css}" />

    <link rel="stylesheet" th:href="@{/css/coupon/coupon_add_edit.css}" />
</head>

<body>
	<!-- ========== 左側側邊欄 ========== -->
	<nav class="sidebar">
		<a class="mb-4 fs-4 text-decoration-none fw-bold"
			th:href="@{/back-end}">後台管理</a>

		<ul class="nav flex-column">
			<li class="nav-item"><a class="nav-link fs-5"
				th:href="@{/admin/mem/list}">會員管理</a></li>

			<!-- 折疊選單 -->
			<li class="nav-item fs-5"><a
				class="nav-link d-flex justify-content-between align-items-center "
				data-bs-toggle="collapse" href="#menu_products">商品管理<i
					class="bi bi-chevron-down"></i>
			</a>
				<div class="collapse fs-6" id="menu_products">
					<ul class="nav flex-column ms-3">
						<li><a class="nav-link" th:href="@{/prod/listAllProd}">商品列表</a></li>
						<li><a class="nav-link" th:href="@{/prod/addProd}">新增商品</a></li>
					</ul>
				</div></li>

			<!-- 訂單管理 -->
			<li class="nav-item fs-5"><a
				class="nav-link d-flex justify-content-between align-items-center "
				data-bs-toggle="collapse" href="#menu_orders">訂單管理<i
					class="bi bi-chevron-down"></i>
			</a>

				<div class="collapse fs-6" id="menu_orders">
					<ul class="nav flex-column ms-3">
						<li><a class="nav-link" th:href="@{/orders/list}">訂單紀錄</a></li>
						<li><a class="nav-link" th:href="@{/returns/list}">退貨處理</a></li>
					</ul>
				</div></li>
			<!-- 活動管理 -->
			<li class="nav-item fs-5"><a
				class="nav-link d-flex justify-content-between align-items-center "
				data-bs-toggle="collapse" href="#menu_activity">活動管理<i
					class="bi bi-chevron-down"></i>
			</a>

				<div class="collapse fs-6 show" id="menu_activity">
					<ul class="nav flex-column ms-3">
						<li><a class="nav-link" th:href="@{/coupon/getAllCoupon}">優惠券管理</a></li>
						<li><a class="nav-link"
							th:href="@{/promotions/getAllPromotions}">促銷銷活管理</a></li>
					</ul>
				</div>
		</ul>

		<div class="mt-4 d-flex justify-content-center logout-wrapper">
			<button class="btn btn-outline-primary w-50 fw-bold btn-logout">
				<i class="bi bi-box-arrow-right"></i> 登出
			</button>
		</div>
	</nav>

    <!-- ========== 主內容區 ========== -->
    <main>
        <!-- 麵包屑 -->
		<nav aria-label="breadcrumb">
			<ol class="breadcrumb d-flex align-items-center no-bg">
				<li class="breadcrumb-item"><a th:href="@{/back-end}"
					class="fs-4 text-primary text-decoration-none fw-bold breadcrumb_index"><i
						class="bi bi-house-door-fill me-1"></i>後台管理</a></li>
				<li class="breadcrumb-item"><a th:href="@{/coupon/getAllCoupon}"
					class="fs-5 text-primary text-decoration-none fw-bold breadcrumb_index">優惠券管理</a>
				</li>
				<li class="breadcrumb-item active">編輯優惠券</li>
			</ol>
		</nav>
        <hr class="border border-primary border-2" />

        <form class="row g-3" th:action="@{updateCoupon}" method="post" th:object="${couponVO}" enctype="application/x-www-form-urlencoded">
            <div class="col-12">
                <label for="inputCouponId" class="form-label">優惠券編號</label>
                <input type="text" class="form-control" id="inputCouponId" th:field="*{couponId}" readonly>
            </div>
            <div class="col-12">
                <label for="inputCouponName" class="form-label">優惠券名稱</label>
                <input type="text" th:field="*{name}" class="form-control" id="inputCouponName">
                <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label for="inputType" class="form-label">折扣方式</label>
                <select id="inputType" class="form-select" th:field="*{type}">
                    <option value="固定金額" th:selected="${couponVO.type} == '固定金額'">固定金額</option>
                    <option value="百分比" th:selected="${couponVO.type} == '百分比'">百分比</option>
                </select>
                <span th:if="${#fields.hasErrors('type')}" th:errors="*{type}" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label for="inputCouponValue" class="form-label">折扣金額/折扣率</label>
                <input type="text" th:field="*{couponValue}" class="form-control" id="inputCouponValue">
                <span th:if="${#fields.hasErrors('couponValue')}" th:errors="*{couponValue}" class="text-danger"></span>
            </div>
            <div class="col-12">
                <label for="inputStandard" class="form-label">使用門檻</label>
                <input type="text" th:field="*{standard}" class="form-control" id="inputStandard">
                <span th:if="${#fields.hasErrors('standard')}" th:errors="*{standard}" class="text-danger"></span>
            </div>
            <div class="col-md-4">
                <label for="inputDate" class="form-label">開始日期</label>
                <input type="date" th:field="*{startDt}" class="form-control" id="inputDate">
                <span th:if="${#fields.hasErrors('startDt')}" th:errors="*{startDt}" class="text-danger"></span>
            </div>
            <div class="col-md-4">
                <label for="inputEndDate" class="form-label">結束日期</label>
                <input type="date" th:field="*{endDt}" class="form-control" id="inputEndDate">
                <span th:if="${#fields.hasErrors('endDt')}" th:errors="*{endDt}" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <div>
                    <span>優惠券狀態</span>
                </div>
                <div class="form-check div3" id="div_state_on">
                    <input class="form-check-input" th:field="*{state}" value="1" name="state" type="radio" id="state_on" th:checked="${couponVO.state} == 1">
                    <label class="form-check-label" for="state_on">
                        啟用
                    </label>
                </div>
                <div class="form-check div3" id="div_state_off">
                    <input class="form-check-input" th:field="*{state}" value="0" name="state" type="radio" id="state_off"  th:checked="${couponVO.state} == 0">
                    <label class="form-check-label" for="state_off">
                        停用
                    </label>
                </div>
                <div>
                    <span th:if="${#fields.hasErrors('state')}" th:errors="*{state}" class="text-danger"></span>
                </div>
            </div>
            <div>
	            <span>員工編號</span>
	            <input type="text" name="employeeId" th:value="${session.employeeId}"
					class="form-control" id="inputEmployeeId" readonly>
            </div>
            <div class="col-md-4">
	            <span>建立時間</span>
	            <input type="text" th:field="*{createTime}" th:value="${#temporals.format(couponVO.createTime,'yyyy-MM-dd HH:mm:ss')}" class="form-control" id="inputCreateTime" readonly>
            	<span th:if="${#fields.hasErrors('createTime')}" th:errors="*{createTime}" class="text-danger"></span>
            </div>
            <div class="col-md-4">
	            <span>更新時間</span>
	            <input type="text" th:field="*{updateTime}" th:value="${#temporals.format(couponVO.updateTime,'yyyy-MM-dd HH:mm:ss')}" class="form-control" id="inputUpdateTime" readonly>
            	<span th:if="${#fields.hasErrors('updateTime')}" th:errors="*{updateTime}" class="text-danger"></span>
            </div>
            
            <div class="col-12 gap-4 d-md-flex justify-content-md-end">
                <button type="submit" class="btn btn-primary" id="submit">儲存</button>
                <a th:href="@{/coupon/getAllCoupon}" class="btn btn-primary">取消</a>
            </div>
        </form>

    </main>

    <!-- JS 套件 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
   	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>

</body>

</html>