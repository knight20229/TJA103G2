<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>商品列表</title>

<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet" />

<!-- Bootstrap Icons -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" />

<!-- Summernote -->
<link
	href="https://cdn.jsdelivr.net/npm/summernote@0.9.0/dist/summernote-lite.min.css"
	rel="stylesheet" />
<!-- Font Awesome Free 6 -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />

<link rel="stylesheet" th:href="@{/css/product.css}" />

</head>
<body>
	<main>
		<div class="text-center text-muted mb-2">
			<small>目前 Session ID: <span th:text="${session.memberId}">無</span></small>
		</div>
		<div class="header-area py-4">
			<div class="container d-flex justify-content-center">

				<ul class="list-unstyled d-flex gap-4 mb-0">

					<li><a
						th:href="${session.memberId != null ? '/mem/my-account' : '/mem/login'}"
						class="btn btn-lg btn-outline-primary d-flex flex-column align-items-center p-4"
						style="min-width: 140px;"> <i
							class="fa-solid fa-user fs-1 mb-2"></i> <span> <th:block
									th:text="${session.memberId != null ? 'ID: ' + session.memberId + ' 您好' : '會員登入'}"></th:block>
						</span>
					</a></li>

					<li><a th:href="@{/cart/getCart(memberId=${session.memberId})}"
						class="btn btn-lg btn-outline-success d-flex flex-column align-items-center p-4"
						style="min-width: 140px;"> <i
							class="fa-solid fa-cart-shopping fs-1 mb-2"></i> <span>購物車測試</span>
					</a></li>

					<li th:if="${session.memberId != null}"><a href="/mem/logout"
						class="btn btn-lg btn-outline-danger d-flex flex-column align-items-center p-4"
						style="min-width: 140px;"> <i
							class="fa-solid fa-right-from-bracket fs-1 mb-2"></i> <span>安全登出</span>
					</a></li>

				</ul>
			</div>
		</div>

		<!-- 商品卡片 -->
		<div class="container mt-4">
			<div class="row g-4 justify-content-start" id="product-list">
				<th:block th:each="prodVO : ${prodListData}">
					<div class="col-lg-4 col-md-6 product-item"
						th:data-type="${prodVO.productType}">
						<div class="card border-0 product_bg h-100"
							th:classappend="${!prodVO.status} ? 'opacity-50 shadow-none' : 'shadow-sm'">
							<div
								class="product-img-container position-relative overflow-hidden">
								<img
									th:src="@{/prod/DBImgReader(productId=${prodVO.productId})}"
									class="card-img-top img-fluid" alt="商品圖片"
									style="height: 250px; width: 100%; object-fit: cover; background-color: #f8f9fa;" />

								<img th:unless="${prodVO.productId != null}"
									th:src="@{/images/no-image.png}"
									class="card-img-top img-fluid default-img" alt="暫無圖片" />

								<div
									class="product-overlay d-flex align-items-center justify-content-center">
									<a
										th:href="@{/prod/getOne_For_Display_front(productId=${prodVO.productId})}"
										class="btn btn-light fw-bold shadow-sm px-4 py-2"> <i
										class="bi bi-eye me-1"></i>檢視詳情
									</a>
								</div>
							</div>

							<div class="card-body text-start">
								<p class="card-title fw-bold mb-1">
									<span th:text="${prodVO.productName}"></span>
								</p>
							</div>
						</div>
					</div>
			</div>
			</th:block>
		</div>
		<div id="toast-wrapper"
			class="toast-container position-fixed bottom-0 end-0 p-3"
			style="z-index: 1080;"></div>

	</main>

	<!-- JS 套件 -->
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

	<script th:src="@{/js/product_listAll.js}"></script>
</body>
</html>
